(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{33:function(e,t,c){},48:function(e,t,c){"use strict";c.r(t);var r=c(2),n=c(29),a=c.n(n),i=c(17),o=c(13),s=c(9),j=c(4),d=Object(r.createContext)(),l=d.Provider,b=function(){return Object(r.useContext)(d)},u=function(e){var t=e.children,c=Object(r.useState)(0),n=Object(s.a)(c,2),a=n[0],i=n[1],d=Object(r.useState)([]),b=Object(s.a)(d,2),u=b[0],O=b[1],h=Object(r.useState)(0),m=Object(s.a)(h,2),p=m[0],x=m[1],f=Object(r.useState)({}),g=Object(s.a)(f,2),v=g[0],C=g[1],S=function(e){return u.find((function(t){return t.id===e}))},N={cantidadTotal:a,carrito:u,precioTotal:p,usuario:v,agregarAlCarrito:function(e,t,c){if(S(e)){var r=u.filter((function(t){return t.id!==e})),n=u.find((function(t){return t.id===e}));n.cantidad+=t;var s=c.precio*t;n.precioParcial+=s,O([].concat(Object(o.a)(r),[n])),i(a+t),x(p+s)}else{var j=c.precio*t;O([].concat(Object(o.a)(u),[{id:e,cantidad:t,producto:c,precioParcial:j}])),i(a+t),x(p+j)}},borrarDelCarrito:function(e){var t=u.filter((function(t){return t.id!==e})),c=u.find((function(t){return t.id===e}));i(a-c.cantidad),x(p-c.precioParcial),O(t)},limpiarElCarrito:function(){O([]),i(0),x(0)},formulario:function(e,t,c){C({nombre:e,apellido:t,email:c})}};return Object(j.jsx)(l,{value:N,children:t})},O=function(){var e=b().cantidadTotal;return Object(j.jsx)(j.Fragment,{children:0!==e?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"material-icons",children:"shopping_cart"}),e]}):Object(j.jsx)("div",{})})},h=(c(33),function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("nav",{children:Object(j.jsxs)("ul",{children:[[{href:"/original",categoria:"Obras Originales",id:"1"},{href:"/impresiones",categoria:"Impresiones",id:"2"},{href:"/sobreElArtista",categoria:"Sobre el artista",id:"3"}].map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(i.c,{to:e.href,children:e.categoria},e.id)})})),Object(j.jsx)("li",{children:Object(j.jsx)(i.c,{to:"/Carrito",children:Object(j.jsx)(O,{})})})]})})})}),m=function(){return Object(j.jsxs)("div",{className:"header",children:[Object(j.jsxs)("div",{className:"nombre-artista",children:[Object(j.jsx)("h3",{children:"Galeria virtual"}),Object(j.jsx)(i.c,{to:"/",children:Object(j.jsx)("h1",{children:"Pablo Lehmann"})})]}),Object(j.jsx)("div",{children:Object(j.jsx)(h,{})})]})},p=c(22),x=function(e){return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("img",{src:e.producto.img,alt:"cuadro"}),Object(j.jsx)("h2",{children:e.producto.nombre}),Object(j.jsx)("p",{children:e.producto.categoria}),Object(j.jsxs)("p",{children:["$",e.producto.precio]}),Object(j.jsx)("button",{onClick:function(){},children:Object(j.jsx)(i.b,{to:"/cuadros/".concat(e.producto.id),children:"Ver detalle"})})]},e.producto.id)},f=function(e){var t=e.cuadros;return Object(j.jsx)("div",{className:"container",children:t.map((function(e){return Object(j.jsx)(x,{producto:e},e.id)}))})},g=c(37),v=c(15),C=Object(g.a)({apiKey:"AIzaSyCYnnmN0qDgWyuRr5lZLBAQOZA-SZ5R9eU",authDomain:"galeria-lehmann.firebaseapp.com",projectId:"galeria-lehmann",storageBucket:"galeria-lehmann.appspot.com",messagingSenderId:"466454427880",appId:"1:466454427880:web:519530ec13489e3219315d"}),S=Object(v.f)(C),N=c(12),A=function(e){var t=e.nombre,c=Object(r.useState)([]),n=Object(s.a)(c,2),a=n[0],i=n[1],o=Object(N.g)().categoria;return Object(r.useEffect)((function(){var e=Object(v.b)(S,"productos");if(o){var t=Object(v.g)(e,Object(v.i)("categoria","==",o));Object(v.e)(t).then((function(e){var t=e.docs;i(t.map((function(e){return Object(p.a)({id:e.id},e.data())})))})).catch((function(e){console.log(e)}))}else Object(v.e)(e).then((function(e){var t=e.docs;i(t.map((function(e){return Object(p.a)({id:e.id},e.data())})))})).catch((function(e){console.log(e)}))}),[o]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{children:Object(j.jsxs)("h1",{children:["Bienvenido ",t," a nuentra galeria. "]})}),Object(j.jsx)("div",{children:Object(j.jsx)(f,{cuadros:a})})]})},k=c(23),E=(c(34),function(e){var t=e.stock,c=e.inicial,n=e.onAdd,a=e.borrar,i=e.agregarAlCarrito,o=e.producto,d=Object(r.useState)(c),l=Object(s.a)(d,2),b=l[0],u=l[1];return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:["Contador : ",b]}),Object(j.jsx)("button",{onClick:function(){b<t&&u(b+1)},children:"+"}),Object(j.jsx)("button",{onClick:function(){b>0&&u(b-1)},children:"-"}),Object(j.jsx)("button",{onClick:function(){n(b),u(c),a(),i(o.id,b,o)},children:"agregar"}),Object(j.jsx)(k.a,{})]})}),y=c(38);var I=function(e){var t=e.cuadro,c=Object(y.useState)(!0),r=Object(s.a)(c,2),n=r[0],a=r[1],o=b().agregarAlCarrito;return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("img",{src:t.img,alt:"imagen de cuadro"}),Object(j.jsx)("p",{children:t.nombre}),Object(j.jsxs)("p",{children:["Categoria:",t.categoria]}),Object(j.jsxs)("p",{children:["$",t.precio]}),Object(j.jsxs)("p",{children:[t.medidas,"cm"]}),n?Object(j.jsx)(E,{stock:5,inicial:1,onAdd:function(e){e>0&&Object(k.b)("Agregado: "+e+" obras")},borrar:function(){a(!n)},agregarAlCarrito:o,producto:t}):Object(j.jsx)(i.c,{to:"/Carrito",className:"carrito",children:"Carrito"})]},t.id)};var q=function(){var e=Object(r.useState)({}),t=Object(s.a)(e,2),c=t[0],n=t[1],a=Object(N.g)().id;return Object(r.useEffect)((function(){var e=Object(v.b)(S,"productos"),t=Object(v.c)(e,a);Object(v.d)(t).then((function(e){n(Object(p.a)({id:a},e.data()))})).catch((function(e){console.log("error")}))}),[a]),Object(j.jsx)("div",{children:Object(j.jsx)(I,{cuadro:c})})};var L=function(){return Object(j.jsx)("div",{children:Object(j.jsx)(A,{})})};var P=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"Soy el artista"})})},B=c(39),F=function(){var e,t,c,r=Object(B.a)(),n=r.register,a=r.formState.errors,i=r.handleSubmit,o=b().formulario;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"formulario"}),Object(j.jsxs)("form",{onSubmit:i((function(e,t){o(e.nombre,e.apellido,e.email),t.target.reset()})),className:"formStyle",children:[Object(j.jsx)("input",Object(p.a)({name:"nombre",placeholder:"nombre"},n("nombre",{required:{value:!0,message:"Campo requerido"},maxLength:{value:10,message:"No m\xe1s de 10 car\xe1cteres!"},minLength:{value:2,message:"M\xednimo 2 car\xe1cteres"}}))),Object(j.jsx)("span",{className:"formSpan",children:null===a||void 0===a||null===(e=a.nombre)||void 0===e?void 0:e.message}),Object(j.jsx)("input",Object(p.a)({name:"apellido",placeholder:"Apellido"},n("apellido",{required:{value:!0,message:"Campo requerido"},maxLength:{value:15,message:"No m\xe1s de 15 car\xe1cteres!"},minLength:{value:2,message:"M\xednimo 2 car\xe1cteres"}}))),Object(j.jsx)("span",{className:"formSpan",children:null===a||void 0===a||null===(t=a.apellido)||void 0===t?void 0:t.message}),Object(j.jsx)("input",Object(p.a)({name:"email",placeholder:"Email"},n("email",{required:{value:!0,message:"Campo requerido"},minLength:{value:2,message:"M\xednimo 2 car\xe1cteres"}}))),Object(j.jsx)("span",{className:"formSpan",children:null===a||void 0===a||null===(c=a.email)||void 0===c?void 0:c.message}),Object(j.jsx)("button",{type:"submit",children:"Enviar"})]})]})},D=function(){var e=b(),t=e.carrito,c=e.precioTotal,r=e.usuario,n=e.borrarDelCarrito,a=e.limpiarElCarrito,o=function(e){Object(k.b)("Su codigo de orden es: "+e,{closeOnClick:!1})};return Object(j.jsx)(j.Fragment,{children:0===t.length?Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"No hay productos en su carrito"}),Object(j.jsx)(i.c,{to:"/",children:Object(j.jsx)("button",{children:"Ir a Inicio"})}),Object(j.jsx)(k.a,{})]}):Object(j.jsxs)("div",{children:[t.map((function(e){return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("img",{src:e.producto.img,alt:"imagen de cuadro"}),Object(j.jsxs)("p",{children:["Nombre: ",e.producto.nombre]}),Object(j.jsxs)("p",{children:["Medidas: ",e.producto.medidas,"cm"]}),Object(j.jsxs)("p",{children:["Precio unitario: $",e.producto.precio]}),Object(j.jsxs)("p",{children:["Cantidad: ",e.cantidad]}),Object(j.jsxs)("p",{children:["Precio total: ",e.producto.precio*e.cantidad]}),Object(j.jsx)("button",{onClick:function(){return n(e.id)},children:"Borrar"})]},e.id)})),Object(j.jsx)(F,{}),Object(j.jsxs)("h3",{children:["total: ",c]}),Object(j.jsx)("button",{onClick:function(){return function(){var e=Object(v.b)(S,"ventas");Object(v.a)(e,{comprador:r,item:t,fecha:Object(v.h)(),total:c}).then((function(e){o(e.id)})),a()}()},children:"Finalizar compra"}),Object(j.jsx)("button",{onClick:function(){return a()},children:"Borrar todo"})]})})},M=function(){return Object(j.jsx)(u,{children:Object(j.jsxs)(i.a,{className:"App",children:[Object(j.jsx)(m,{}),Object(j.jsx)("main",{className:"App-header",children:Object(j.jsxs)(N.c,{children:[Object(j.jsx)(N.a,{path:"/",element:Object(j.jsx)(L,{})}),Object(j.jsx)(N.a,{path:"/:categoria",element:Object(j.jsx)(A,{nombre:"Horacio"})}),Object(j.jsx)(N.a,{path:"/sobreElArtista",element:Object(j.jsx)(P,{})}),Object(j.jsx)(N.a,{path:"/carrito",element:Object(j.jsx)(D,{})}),Object(j.jsx)(N.a,{path:"/cuadros/:id",element:Object(j.jsx)(q,{})})]})})]})})};a.a.render(Object(j.jsx)(M,{}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.cf59cea1.chunk.js.map